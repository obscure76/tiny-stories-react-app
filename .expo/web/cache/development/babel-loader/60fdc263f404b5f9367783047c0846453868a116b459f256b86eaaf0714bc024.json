{"ast":null,"code":"import { UnavailabilityError } from 'expo-modules-core';\nimport { useEffect } from 'react';\nimport ExpoKeepAwake from './ExpoKeepAwake';\n/** Default tag, used when no tag has been specified in keep awake method calls. */\nexport const ExpoKeepAwakeTag = 'ExpoKeepAwakeDefaultTag';\n/** @returns `true` on all platforms except [unsupported web browsers](https://caniuse.com/wake-lock). */\nexport async function isAvailableAsync() {\n  if (ExpoKeepAwake.isAvailableAsync) {\n    return await ExpoKeepAwake.isAvailableAsync();\n  }\n  return true;\n}\n/**\n * A React hook to keep the screen awake for as long as the owner component is mounted.\n * The optionally provided `tag` argument is used when activating and deactivating the keep-awake\n * feature. If unspecified, the default `tag` is used. See the documentation for `activateKeepAwakeAsync`\n * below to learn more about the `tag` argument.\n *\n * @param tag Tag to lock screen sleep prevention. If not provided, the default tag is used.\n * @param options Additional options for the keep awake hook.\n */\nexport function useKeepAwake(tag = ExpoKeepAwakeTag, options) {\n  useEffect(() => {\n    let isMounted = true;\n    activateKeepAwakeAsync(tag).then(() => {\n      if (isMounted && ExpoKeepAwake.addListenerForTag && options?.listener) {\n        addListener(tag, options.listener);\n      }\n    });\n    return () => {\n      isMounted = false;\n      if (options?.suppressDeactivateWarnings) {\n        deactivateKeepAwake(tag).catch(() => {});\n      } else {\n        deactivateKeepAwake(tag);\n      }\n    };\n  }, [tag]);\n}\n// @needsAudit\n/**\n * Prevents the screen from sleeping until `deactivateKeepAwake` is called with the same `tag` value.\n *\n * If the `tag` argument is specified, the screen will not sleep until you call `deactivateKeepAwake`\n * with the same `tag` argument. When using multiple `tags` for activation you'll have to deactivate\n * each one in order to re-enable screen sleep. If tag is unspecified, the default `tag` is used.\n *\n * Web support [is limited](https://caniuse.com/wake-lock).\n *\n * @param tag Tag to lock screen sleep prevention. If not provided, the default tag is used.\n * @deprecated use `activateKeepAwakeAsync` instead.\n */\nexport function activateKeepAwake(tag = ExpoKeepAwakeTag) {\n  console.warn('`activateKeepAwake` is deprecated. Use `activateKeepAwakeAsync` instead.');\n  return activateKeepAwakeAsync(tag);\n}\n// @needsAudit\n/**\n * Prevents the screen from sleeping until `deactivateKeepAwake` is called with the same `tag` value.\n *\n * If the `tag` argument is specified, the screen will not sleep until you call `deactivateKeepAwake`\n * with the same `tag` argument. When using multiple `tags` for activation you'll have to deactivate\n * each one in order to re-enable screen sleep. If tag is unspecified, the default `tag` is used.\n *\n * Web support [is limited](https://caniuse.com/wake-lock).\n *\n * @param tag Tag to lock screen sleep prevention. If not provided, the default tag is used.\n */\nexport async function activateKeepAwakeAsync(tag = ExpoKeepAwakeTag) {\n  await ExpoKeepAwake.activate?.(tag);\n}\n// @needsAudit\n/**\n * Releases the lock on screen-sleep prevention associated with the given `tag` value. If `tag`\n * is unspecified, it defaults to the same default tag that `activateKeepAwake` uses.\n *\n * @param tag Tag to release the lock on screen sleep prevention. If not provided,\n * the default tag is used.\n */\nexport async function deactivateKeepAwake(tag = ExpoKeepAwakeTag) {\n  await ExpoKeepAwake.deactivate?.(tag);\n}\n/**\n * Observe changes to the keep awake timer.\n * On web, this changes when navigating away from the active window/tab. No-op on native.\n * @platform web\n *\n * @example\n * ```ts\n * KeepAwake.addListener(({ state }) => {\n *   // ...\n * });\n * ```\n */\nexport function addListener(tagOrListener, listener) {\n  // Assert so the type is non-nullable.\n  if (!ExpoKeepAwake.addListenerForTag) {\n    throw new UnavailabilityError('ExpoKeepAwake', 'addListenerForTag');\n  }\n  const tag = typeof tagOrListener === 'string' ? tagOrListener : ExpoKeepAwakeTag;\n  const _listener = typeof tagOrListener === 'function' ? tagOrListener : listener;\n  return ExpoKeepAwake.addListenerForTag(tag, _listener);\n}\nexport * from './KeepAwake.types';","map":{"version":3,"names":["UnavailabilityError","useEffect","ExpoKeepAwake","ExpoKeepAwakeTag","isAvailableAsync","useKeepAwake","tag","options","isMounted","activateKeepAwakeAsync","then","addListenerForTag","listener","addListener","suppressDeactivateWarnings","deactivateKeepAwake","catch","activateKeepAwake","console","warn","activate","deactivate","tagOrListener","_listener"],"sources":["/Users/midhun/github/tiny-react-app/tinyStoriesReactApp/node_modules/expo-keep-awake/src/index.ts"],"sourcesContent":["import { Subscription, UnavailabilityError } from 'expo-modules-core';\nimport { useEffect } from 'react';\n\nimport ExpoKeepAwake from './ExpoKeepAwake';\nimport { KeepAwakeListener, KeepAwakeOptions } from './KeepAwake.types';\n\n/** Default tag, used when no tag has been specified in keep awake method calls. */\nexport const ExpoKeepAwakeTag = 'ExpoKeepAwakeDefaultTag';\n\n/** @returns `true` on all platforms except [unsupported web browsers](https://caniuse.com/wake-lock). */\nexport async function isAvailableAsync(): Promise<boolean> {\n  if (ExpoKeepAwake.isAvailableAsync) {\n    return await ExpoKeepAwake.isAvailableAsync();\n  }\n  return true;\n}\n\n/**\n * A React hook to keep the screen awake for as long as the owner component is mounted.\n * The optionally provided `tag` argument is used when activating and deactivating the keep-awake\n * feature. If unspecified, the default `tag` is used. See the documentation for `activateKeepAwakeAsync`\n * below to learn more about the `tag` argument.\n *\n * @param tag Tag to lock screen sleep prevention. If not provided, the default tag is used.\n * @param options Additional options for the keep awake hook.\n */\nexport function useKeepAwake(tag: string = ExpoKeepAwakeTag, options?: KeepAwakeOptions): void {\n  useEffect(() => {\n    let isMounted = true;\n    activateKeepAwakeAsync(tag).then(() => {\n      if (isMounted && ExpoKeepAwake.addListenerForTag && options?.listener) {\n        addListener(tag, options.listener);\n      }\n    });\n    return () => {\n      isMounted = false;\n      if (options?.suppressDeactivateWarnings) {\n        deactivateKeepAwake(tag).catch(() => {});\n      } else {\n        deactivateKeepAwake(tag);\n      }\n    };\n  }, [tag]);\n}\n\n// @needsAudit\n/**\n * Prevents the screen from sleeping until `deactivateKeepAwake` is called with the same `tag` value.\n *\n * If the `tag` argument is specified, the screen will not sleep until you call `deactivateKeepAwake`\n * with the same `tag` argument. When using multiple `tags` for activation you'll have to deactivate\n * each one in order to re-enable screen sleep. If tag is unspecified, the default `tag` is used.\n *\n * Web support [is limited](https://caniuse.com/wake-lock).\n *\n * @param tag Tag to lock screen sleep prevention. If not provided, the default tag is used.\n * @deprecated use `activateKeepAwakeAsync` instead.\n */\nexport function activateKeepAwake(tag: string = ExpoKeepAwakeTag): Promise<void> {\n  console.warn('`activateKeepAwake` is deprecated. Use `activateKeepAwakeAsync` instead.');\n  return activateKeepAwakeAsync(tag);\n}\n\n// @needsAudit\n/**\n * Prevents the screen from sleeping until `deactivateKeepAwake` is called with the same `tag` value.\n *\n * If the `tag` argument is specified, the screen will not sleep until you call `deactivateKeepAwake`\n * with the same `tag` argument. When using multiple `tags` for activation you'll have to deactivate\n * each one in order to re-enable screen sleep. If tag is unspecified, the default `tag` is used.\n *\n * Web support [is limited](https://caniuse.com/wake-lock).\n *\n * @param tag Tag to lock screen sleep prevention. If not provided, the default tag is used.\n */\nexport async function activateKeepAwakeAsync(tag: string = ExpoKeepAwakeTag): Promise<void> {\n  await ExpoKeepAwake.activate?.(tag);\n}\n\n// @needsAudit\n/**\n * Releases the lock on screen-sleep prevention associated with the given `tag` value. If `tag`\n * is unspecified, it defaults to the same default tag that `activateKeepAwake` uses.\n *\n * @param tag Tag to release the lock on screen sleep prevention. If not provided,\n * the default tag is used.\n */\nexport async function deactivateKeepAwake(tag: string = ExpoKeepAwakeTag): Promise<void> {\n  await ExpoKeepAwake.deactivate?.(tag);\n}\n\n/**\n * Observe changes to the keep awake timer.\n * On web, this changes when navigating away from the active window/tab. No-op on native.\n * @platform web\n *\n * @example\n * ```ts\n * KeepAwake.addListener(({ state }) => {\n *   // ...\n * });\n * ```\n */\nexport function addListener(\n  tagOrListener: string | KeepAwakeListener,\n  listener?: KeepAwakeListener\n): Subscription {\n  // Assert so the type is non-nullable.\n  if (!ExpoKeepAwake.addListenerForTag) {\n    throw new UnavailabilityError('ExpoKeepAwake', 'addListenerForTag');\n  }\n\n  const tag = typeof tagOrListener === 'string' ? tagOrListener : ExpoKeepAwakeTag;\n  const _listener = typeof tagOrListener === 'function' ? tagOrListener : listener;\n\n  return ExpoKeepAwake.addListenerForTag(tag, _listener);\n}\n\nexport * from './KeepAwake.types';\n"],"mappings":"AAAA,SAAuBA,mBAAmB,QAAQ,mBAAmB;AACrE,SAASC,SAAS,QAAQ,OAAO;AAEjC,OAAOC,aAAa,MAAM,iBAAiB;AAG3C;AACA,OAAO,MAAMC,gBAAgB,GAAG,yBAAyB;AAEzD;AACA,OAAO,eAAeC,gBAAgBA,CAAA;EACpC,IAAIF,aAAa,CAACE,gBAAgB,EAAE;IAClC,OAAO,MAAMF,aAAa,CAACE,gBAAgB,EAAE;;EAE/C,OAAO,IAAI;AACb;AAEA;;;;;;;;;AASA,OAAM,SAAUC,YAAYA,CAACC,GAAA,GAAcH,gBAAgB,EAAEI,OAA0B;EACrFN,SAAS,CAAC,MAAK;IACb,IAAIO,SAAS,GAAG,IAAI;IACpBC,sBAAsB,CAACH,GAAG,CAAC,CAACI,IAAI,CAAC,MAAK;MACpC,IAAIF,SAAS,IAAIN,aAAa,CAACS,iBAAiB,IAAIJ,OAAO,EAAEK,QAAQ,EAAE;QACrEC,WAAW,CAACP,GAAG,EAAEC,OAAO,CAACK,QAAQ,CAAC;;IAEtC,CAAC,CAAC;IACF,OAAO,MAAK;MACVJ,SAAS,GAAG,KAAK;MACjB,IAAID,OAAO,EAAEO,0BAA0B,EAAE;QACvCC,mBAAmB,CAACT,GAAG,CAAC,CAACU,KAAK,CAAC,MAAK,CAAE,CAAC,CAAC;OACzC,MAAM;QACLD,mBAAmB,CAACT,GAAG,CAAC;;IAE5B,CAAC;EACH,CAAC,EAAE,CAACA,GAAG,CAAC,CAAC;AACX;AAEA;AACA;;;;;;;;;;;;AAYA,OAAM,SAAUW,iBAAiBA,CAACX,GAAA,GAAcH,gBAAgB;EAC9De,OAAO,CAACC,IAAI,CAAC,0EAA0E,CAAC;EACxF,OAAOV,sBAAsB,CAACH,GAAG,CAAC;AACpC;AAEA;AACA;;;;;;;;;;;AAWA,OAAO,eAAeG,sBAAsBA,CAACH,GAAA,GAAcH,gBAAgB;EACzE,MAAMD,aAAa,CAACkB,QAAQ,GAAGd,GAAG,CAAC;AACrC;AAEA;AACA;;;;;;;AAOA,OAAO,eAAeS,mBAAmBA,CAACT,GAAA,GAAcH,gBAAgB;EACtE,MAAMD,aAAa,CAACmB,UAAU,GAAGf,GAAG,CAAC;AACvC;AAEA;;;;;;;;;;;;AAYA,OAAM,SAAUO,WAAWA,CACzBS,aAAyC,EACzCV,QAA4B;EAE5B;EACA,IAAI,CAACV,aAAa,CAACS,iBAAiB,EAAE;IACpC,MAAM,IAAIX,mBAAmB,CAAC,eAAe,EAAE,mBAAmB,CAAC;;EAGrE,MAAMM,GAAG,GAAG,OAAOgB,aAAa,KAAK,QAAQ,GAAGA,aAAa,GAAGnB,gBAAgB;EAChF,MAAMoB,SAAS,GAAG,OAAOD,aAAa,KAAK,UAAU,GAAGA,aAAa,GAAGV,QAAQ;EAEhF,OAAOV,aAAa,CAACS,iBAAiB,CAACL,GAAG,EAAEiB,SAAS,CAAC;AACxD;AAEA,cAAc,mBAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}